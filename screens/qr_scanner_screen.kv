<QRScannerScreen>:
    name: "qr_scanner_screen"
    size: root.width, root.height
    md_bg_color: app.theme_cls.surfaceColor


    # HEADER LINE
    MDTopAppBar:
        type: "small"
        size_hint_x: 1
        pos_hint: {"center_x": .5, "top": 1}
        md_bg_color: app.theme_cls.secondaryContainerColor

        MDTopAppBarLeadingButtonContainer:

            MDActionTopAppBarButton:
                icon: "arrow-left"
                on_press: root.stop_camera()

        MDTopAppBarTitle:
            text: "QR сканер"
            pos_hint: {"center_x": .5}

        MDTopAppBarTrailingButtonContainer:

            MDActionTopAppBarButton:
                icon: "theme-light-dark"
                on_release: app.switch_theme_style()


    # BODY
    FloatLayout:
        id: camera_layout
        orientation: "vertical"
        size: root.width, root.width
        pos_hint: {'center_x': 0.5, 'center_y': 0.5}
        #size_hint: (1, 1)
        #width: root.width

    
    # BOTTOM
    MDExtendedFabButton:
        pos_hint: {"top": 0.08, "center_x": .1}
        style: "large"
        on_press: root.stop_camera()

        MDExtendedFabButtonIcon:
            icon: "camera-off-outline"


    MDExtendedFabButton:
        pos_hint: {"top": 0.08, "center_x": .7}
        style: "large"
        on_press: root.save_pic_via_cv()

        MDExtendedFabButtonIcon:
            icon: "image-plus"


    MDExtendedFabButton:
        pos_hint: {"top": 0.08, "center_x": .9}
        style: "large"
        #on_press: root.take_picture_etc()

        MDExtendedFabButtonIcon:
            icon: "image-plus-outline"